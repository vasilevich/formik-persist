!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("formik")):"function"==typeof define&&define.amd?define(["exports","react","formik"],e):e(t.FormikPersist={},t.React,t.formik)}(this,function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(i,u,f,a){return new(f||(f=Promise))(function(t,e){function n(t){try{o(a.next(t))}catch(t){e(t)}}function r(t){try{o(a.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new f(function(t){t(e.value)}).then(n,r)}o((a=a.apply(i,u||[])).next())})}function u(n,r){var o,i,u,t,f={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;f;)try{if(o=1,i&&(u=2&e[0]?i.return:e[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,e[1])).done)return u;switch(i=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return f.label++,{value:e[1],done:!1};case 5:f.label++,i=e[1],e=[0];continue;case 7:e=f.ops.pop(),f.trys.pop();continue;default:if(!(u=0<(u=f.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){f=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){f.label=e[1];break}if(6===e[0]&&f.label<u[1]){f.label=u[1],u=e;break}if(u&&f.label<u[2]){f.label=u[2],f.ops.push(e);break}u[2]&&f.ops.pop(),f.trys.pop();continue}e=r.call(n,f)}catch(t){e=[6,t],i=0}finally{o=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f=NaN,a="[object Symbol]",c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,l=/^0o[0-7]+$/i,y=parseInt,d="object"==typeof o&&o&&o.Object===Object&&o,v="object"==typeof self&&self&&self.Object===Object&&self,m=d||v||Function("return this")(),b=Object.prototype.toString,h=Math.max,g=Math.min,w=function(){return m.Date.now()};function O(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function S(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||(n=e)&&"object"==typeof n&&b.call(e)==a)return f;var e,n;if(O(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=O(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var o=p.test(t);return o||l.test(t)?y(t.slice(2),o?2:8):s.test(t)?f:+t}var j=function(r,o,t){var i,u,f,a,c,s,p=0,l=!1,y=!1,e=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function d(t){var e=i,n=u;return i=u=void 0,p=t,a=r.apply(n,e)}function v(t){var e=t-s;return void 0===s||o<=e||e<0||y&&f<=t-p}function m(){var t,e,n=w();if(v(n))return b(n);c=setTimeout(m,(e=o-((t=n)-s),y?g(e,f-(t-p)):e))}function b(t){return c=void 0,e&&i?d(t):(i=u=void 0,a)}function n(){var t,e=w(),n=v(e);if(i=arguments,u=this,s=e,n){if(void 0===c)return p=t=s,c=setTimeout(m,o),l?d(t):a;if(y)return c=setTimeout(m,o),d(s)}return void 0===c&&(c=setTimeout(m,o)),a}return o=S(o)||0,O(t)&&(l=!!t.leading,f=(y="maxWait"in t)?h(S(t.maxWait)||0,o):f,e="trailing"in t?!!t.trailing:e),n.cancel=function(){void 0!==c&&clearTimeout(c),i=s=u=c=void(p=0)},n.flush=function(){return void 0===c?a:b(w())},n},x=Array.isArray,k=Object.keys,P=Object.prototype.hasOwnProperty;var _=function(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var r,o,i,u=x(e),f=x(n);if(u&&f){if((o=e.length)!=n.length)return!1;for(r=o;0!=r--;)if(!t(e[r],n[r]))return!1;return!0}if(u!=f)return!1;var a=e instanceof Date,c=n instanceof Date;if(a!=c)return!1;if(a&&c)return e.getTime()==n.getTime();var s=e instanceof RegExp,p=n instanceof RegExp;if(s!=p)return!1;if(s&&p)return e.toString()==n.toString();var l=k(e);if((o=l.length)!==k(n).length)return!1;for(r=o;0!=r--;)if(!P.call(n,l[r]))return!1;for(r=o;0!=r--;)if(!("_owner"===(i=l[r])&&e.$$typeof||t(e[i],n[i])))return!1;return!0}return e!=e&&n!=n}(t,e)}catch(t){if(t.message&&t.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",t.name,t.message),!1;throw t}},F=void 0,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.saveForm=j(function(t){var n,r;n=e,r=t,i(F,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,n.props.persistFilter(r)];case 1:return e=t.sent(),n.props.isSessionStorage?[2,window.sessionStorage.setItem(n.props.name,JSON.stringify(e))]:[2,window.localStorage.setItem(n.props.name,JSON.stringify(e))]}})})},e.props.debounce),e}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.componentDidUpdate=function(t){_(t.formik,this.props.formik)||this.saveForm(this.props.formik)},e.prototype.componentDidMount=function(){var o;o=this,i(F,void 0,void 0,function(){var e,n,r;return u(this,function(t){switch(t.label){case 0:return(e=o.props.isSessionStorage?window.sessionStorage.getItem(o.props.name):window.localStorage.getItem(o.props.name))&&null!==e?(r=(n=o.props.formik).setFormikState,[4,o.props.loadFilter(JSON.parse(e))]):[3,2];case 1:return[2,r.apply(n,[t.sent()])];case 2:return[2]}})})},e.prototype.render=function(){return null},e.defaultProps={debounce:300,persistFilter:function(t){t.isSubmitting;return function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}(t,["isSubmitting"])},loadFilter:function(t){return t}},e}(e.Component),$=n.connect(T);t.Persist=$,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=formik-persist.umd.js.map
