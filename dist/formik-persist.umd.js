!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("formik")):"function"==typeof define&&define.amd?define(["exports","react","formik"],e):e(t.FormikPersist={},t.React,t.formik)}(this,function(t,e,r){"use strict";var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=NaN,f="[object Symbol]",s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,l="object"==typeof o&&o&&o.Object===Object&&o,y="object"==typeof self&&self&&self.Object===Object&&self,m=l||y||Function("return this")(),d=Object.prototype.toString,b=Math.max,h=Math.min,O=function(){return m.Date.now()};function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function j(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||(r=e)&&"object"==typeof r&&d.call(e)==f)return i;var e,r;if(w(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=w(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var o=a.test(t);return o||c.test(t)?p(t.slice(2),o?2:8):u.test(t)?i:+t}var v=function(n,o,t){var i,f,s,u,a,c,p=0,l=!1,y=!1,e=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function m(t){var e=i,r=f;return i=f=void 0,p=t,u=n.apply(r,e)}function d(t){var e=t-c;return void 0===c||o<=e||e<0||y&&s<=t-p}function v(){var t,e,r=O();if(d(r))return g(r);a=setTimeout(v,(e=o-((t=r)-c),y?h(e,s-(t-p)):e))}function g(t){return a=void 0,e&&i?m(t):(i=f=void 0,u)}function r(){var t,e=O(),r=d(e);if(i=arguments,f=this,c=e,r){if(void 0===a)return p=t=c,a=setTimeout(v,o),l?m(t):u;if(y)return a=setTimeout(v,o),m(c)}return void 0===a&&(a=setTimeout(v,o)),u}return o=j(o)||0,w(t)&&(l=!!t.leading,s=(y="maxWait"in t)?b(j(t.maxWait)||0,o):s,e="trailing"in t?!!t.trailing:e),r.cancel=function(){void 0!==a&&clearTimeout(a),i=c=f=a=void(p=0)},r.flush=function(){return void 0===a?u:g(O())},r},g=Array.isArray,S=Object.keys,x=Object.prototype.hasOwnProperty;var k=function(t,e){try{return function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){var n,o,i,f=g(e),s=g(r);if(f&&s){if((o=e.length)!=r.length)return!1;for(n=o;0!=n--;)if(!t(e[n],r[n]))return!1;return!0}if(f!=s)return!1;var u=e instanceof Date,a=r instanceof Date;if(u!=a)return!1;if(u&&a)return e.getTime()==r.getTime();var c=e instanceof RegExp,p=r instanceof RegExp;if(c!=p)return!1;if(c&&p)return e.toString()==r.toString();var l=S(e);if((o=l.length)!==S(r).length)return!1;for(n=o;0!=n--;)if(!x.call(r,l[n]))return!1;for(n=o;0!=n--;)if(!("_owner"===(i=l[n])&&e.$$typeof||t(e[i],r[i])))return!1;return!0}return e!=e&&r!=r}(t,e)}catch(t){if(t.message&&t.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",t.name,t.message),!1;throw t}},_=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.saveForm=v(function(t){var e=r.props.persistFilter(t);r.props.isSessionStorage?window.sessionStorage.setItem(r.props.name,JSON.stringify(e)):window.localStorage.setItem(r.props.name,JSON.stringify(e))},r.props.debounce),r}return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.componentDidUpdate=function(t){k(t.formik,this.props.formik)||this.saveForm(this.props.formik)},e.prototype.componentDidMount=function(){var t=this.props.isSessionStorage?window.sessionStorage.getItem(this.props.name):window.localStorage.getItem(this.props.name);t&&null!==t&&this.props.formik.setFormikState(this.props.loadFilter(JSON.parse(t)))},e.prototype.render=function(){return null},e.defaultProps={debounce:300,persistFilter:function(t){t.isSubmitting;return function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(r[n[o]]=t[n[o]])}return r}(t,["isSubmitting"])},loadFilter:function(t){return t}},e}(e.Component),P=r.connect(_);t.Persist=P,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=formik-persist.umd.js.map
